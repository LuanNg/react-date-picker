!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react"),require("react-dom"),require("react-ultra-select")):"function"==typeof define&&define.amd?define(["react","react-dom","react-ultra-select"],t):"object"==typeof exports?exports["react-ultra-date-picker"]=t(require("react"),require("react-dom"),require("react-ultra-select")):e["react-ultra-date-picker"]=t(e.react,e["react-dom"],e["react-ultra-select"])}(this,function(e,t,n){return function(e){function t(r){if(n[r])return n[r].exports;var a=n[r]={exports:{},id:r,loaded:!1};return e[r].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){e.exports=n(1)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.addLocaleConfig=t.translateHour=t.isPm=t.padStartWith0=t.daysInMonth=void 0;var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(2),c=r(l),f=n(3),p=(r(f),n(4)),h=r(p),d=n(5),m=r(d),y=t.daysInMonth=function(e,t){return new Date(e,t,0).getDate()},g=t.padStartWith0=function(e){return e>=10?e.toString():"0"+e},v=(t.isPm=function(e){return e.getHours()>=12},t.translateHour=function(e,t){return t?g(e):e%12===0?"12":g(e%12)}),D={order:["month","date","year","hour","minute","ampm"],year:function(e){return e},month:function(e){return["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][e]},date:function(e){return g(e)},am:"AM",pm:"PM",hour:v,minute:function(e){return g(e)},confirmButton:"Confirm",cancelButton:"Cancel",dateLabel:function(e,t,n,r){if(e)return"Date out of range";switch(n){case"time":return D.hour(t.getHours(),r)+":"+D.minute(t.getMinutes())+(r?"":" "+(t.getHours()<12?D.am:D.pm));case"month":return D.month(t.getMonth())+" "+D.year(t.getFullYear());case"datetime":return D.month(t.getMonth())+" "+D.date(t.getDate())+" "+D.year(t.getFullYear())+" "+D.hour(t.getHours(),r)+":"+D.minute(t.getMinutes())+(r?"":" "+(t.getHours()<12?D.am:D.pm));case"date":return D.month(t.getMonth())+" "+D.date(t.getDate())+" "+D.year(t.getFullYear())}}},b={order:["year","month","date","ampm","hour","minute"],year:function(e){return e+"年"},month:function(e){return e+1+"月"},date:function(e){return e+"日"},am:"上午",pm:"下午",hour:v,minute:function(e){return g(e)},confirmButton:"确定",cancelButton:"取消",dateLabel:function(e,t,n,r){if(e)return"日期不在选择范围内";switch(n){case"time":return""+(r?"":t.getHours()<12?b.am:b.pm)+b.hour(t.getHours(),r)+":"+b.minute(t.getMinutes());case"month":return""+b.year(t.getFullYear())+b.month(t.getMonth());case"datetime":return""+b.year(t.getFullYear())+b.month(t.getMonth())+b.date(t.getDate())+" "+(r?"":t.getHours()<12?b.am:b.pm)+b.hour(t.getHours(),r)+":"+b.minute(t.getMinutes());case"date":return""+b.year(t.getFullYear())+b.month(t.getMonth())+b.date(t.getDate())}}},k={en:D,"zh-cn":b},x=(t.addLocaleConfig=function(e,t){t&&t.order instanceof Array&&"function"==typeof t.year&&"function"==typeof t.month&&"function"==typeof t.date&&"function"==typeof t.hour&&"function"==typeof t.minute&&"function"==typeof t.dateLabel?k[e]=t:console.error("addLocaleConfig: invalid locale config provided")},function(e,t,n){if(e[t]&&"number"!=typeof e[t]){if("string"!=typeof e[t])return new Error(n+": "+t+" invalid date string provided.");if("time"!==e.type||!e[t].match(/\d{2}:\d{2}/)||5!==e[t].length)return Number.isNaN(new Date(e[t]))?new Error(n+": "+t+" invalid date string provided."):void 0}}),M=function(e,t,n){return"string"==typeof e[t]&&k[e[t]]?void 0:new Error(n+": "+t+" invalid value provided.")},w=function(e){function t(e){a(this,t);var n=o(this,Object.getPrototypeOf(t).call(this,e));n.getStaticText=n.getStaticText.bind(n),n.getTitle=n.getTitle.bind(n),n.onSelect=n.onSelect.bind(n),n.onDidSelect=n.onDidSelect.bind(n),n.onOpen=n.onOpen.bind(n),n.onCancel=n.onCancel.bind(n);var r=n.parseDateString(e.min,e.type),i=n.parseDateString(e.max,e.type),u=n.getDefaultDate(e);return n.state=n.calColumnsAndKeys(n.props,u,r,i),n}return i(t,e),s(t,[{key:"parseDateString",value:function(e,t){var n=void 0;if("time"===t)if(n=new Date,e.match(/\d{2}:\d{2}/)&&5===e.length)n.setHours(parseInt(e.substring(0,2))),n.setMinutes(parseInt(e.substring(3,5)));else{var r=new Date(e);n.setHours(r.getHours()),n.setMinutes(r.getMinutes())}else"date"===t?(n=new Date(e),n.setHours(0),n.setMinutes(0)):"month"===t?(n=new Date(e),n.setDate(1),n.setHours(0),n.setMinutes(0)):"datetime"===t&&(n=new Date(e));return n.setSeconds(0),n.setMilliseconds(0),n}},{key:"getDefaultDate",value:function(e){return e=e||this.props,this.parseDateString(e.defaultDate?e.defaultDate:e.min,e.type)}},{key:"componentWillReceiveProps",value:function(e){var t=this.parseDateString(e.min,e.type),n=this.parseDateString(e.max,e.type),r=this.getDefaultDate(e);this.setState(this.calColumnsAndKeys(e,r,t,n))}},{key:"shouldComponentUpdate",value:function(e,t){if(Object.keys(this.props).length!==Object.keys(e).length)return!0;var n=!0,r=!1,a=void 0;try{for(var o,i=Object.keys(e)[Symbol.iterator]();!(n=(o=i.next()).done);n=!0){var u=o.value;if(!u.startsWith("on")&&e[u]!==this.props[u])return!0}}catch(s){r=!0,a=s}finally{try{!n&&i["return"]&&i["return"]()}finally{if(r)throw a}}if(Object.keys(this.state).length!==Object.keys(t).length)return!0;var l=!0,c=!1,f=void 0;try{for(var p,h=Object.keys(t)[Symbol.iterator]();!(l=(p=h.next()).done);l=!0){var d=p.value;if("keys"===d||"columns"===d){if(!(0,m["default"])(t[d],this.state[d]))return!0}else if("defaultDate"===d||"minDate"===d||"maxDate"===d){if(t[d].getTime()!==this.state[d].getTime())return!0}else if(t[d]!==this.state[d])return!0}}catch(s){c=!0,f=s}finally{try{!l&&h["return"]&&h["return"]()}finally{if(c)throw f}}return!1}},{key:"getTitle",value:function(){return this.props.title}},{key:"getPrefix",value:function(e){if(0===e)return"";switch(this.state.keys[e]){case"hour":case"ampm":return" ";case"minute":return":";default:return"-"}}},{key:"getStaticText",value:function(e){var t=k[this.props.locale];if(t)return t.dateLabel(this.state.outOfRange,this.state.defaultDate,this.props.type,this.props.use24hours)}},{key:"calColumnsAndKeys",value:function(e,t,n,r){e=e||this.props;var a=e,o=a.type,i=a.use24hours,u=a.locale,s=void 0;switch(o){case"date":s=["year","month","date"];break;case"datetime":s=i?["year","month","date","hour","minute"]:["year","month","date","ampm","hour","minute"];break;case"time":s=i?["hour","minute"]:["ampm","hour","minute"];break;case"month":s=["year","month"]}var l={},c=!1;n>t?(c=!0,t=n):t>r&&(c=!0,t=r);for(var f=0,p=s.length;p>f;f++)switch(s[f]){case"year":l[s[f]]=this.calYear(n,r,t,u);break;case"month":l[s[f]]=this.calMonth(n,r,t,u);break;case"date":l[s[f]]=this.calDate(n,r,t,u);break;case"ampm":l[s[f]]=this.calAMPM(n,r,t,u);break;case"hour":var h=void 0;l.ampm&&(h=l.ampm.list[l.ampm.defaultIndex].key),l[s[f]]=this.calHour(n,r,t,h,u,i);break;case"minute":l[s[f]]=this.calMinute(n,r,t,u)}for(var d=k[u],m=[],y=[],g=0,v=d.order.length;v>g;g++)l[d.order[g]]&&(m.push(l[d.order[g]]),y.push(d.order[g]));return{keys:y,columns:m,outOfRange:c,defaultDate:t,minDate:n,maxDate:r}}},{key:"newDate",value:function(e,t,n,r,a){return new Date(e,t,n,r,a)}},{key:"onSelect",value:function(e,t){for(var n=this,r=new Date(this.state.defaultDate.getTime()),a=this.refs.select.selectedValues,o=["year","month","date","ampm","hour","minute"],i=function(e){var t=n.state.keys.findIndex(function(t){return t===o[e]});if(-1===t)return"continue";switch(o[e]){case"year":r.setFullYear(a[t].key);break;case"month":r.setDate(1),r.setMonth(a[t].key);break;case"date":var i=y(r.getFullYear(),r.getMonth()+1);a[t].key>i?r.setDate(i):r.setDate(a[t].key);break;case"minute":r.setMinutes(a[t].key);break;case"hour":if(!n.props.use24hours){var u=n.state.keys.findIndex(function(e){return"ampm"===e}),s=n.refs.select.selectedValues[u].key;if("pm"===s&&a[t].key<12){r.setHours(a[t].key+12);break}if("am"===s&&a[t].key>=12){r.setHours(a[t].key-12);break}}r.setHours(a[t].key);break;case"ampm":}},u=0;u<o.length;u++){i(u)}r<this.state.minDate&&(r=this.state.minDate),r>this.state.maxDate&&(r=this.state.maxDate),this.setState(this.calColumnsAndKeys(this.props,r,this.state.minDate,this.state.maxDate)),this.props.onSelect&&this.props.onSelect(this.date)}},{key:"onDidSelect",value:function(e,t){this.props.onDidSelect&&this.props.onDidSelect(this.date)}},{key:"onOpen",value:function(){this._onOpenDate=this.state.defaultDate,this.props.onOpen&&this.props.onOpen()}},{key:"onCancel",value:function(){this._onOpenDate&&(this.setState(this.calColumnsAndKeys(this.props,this._onOpenDate,this.state.minDate,this.state.maxDate)),this._onOpenDate=null,this.props.onCancel&&this.props.onCancel())}},{key:"intersects",value:function(e,t,n,r){return!(t.getTime()<n.getTime()||e.getTime()>r.getTime())}},{key:"calYear",value:function(e,t,n,r){for(var a={list:[],defaultIndex:-1},o=e.getFullYear(),i=t.getFullYear(),u=0;i>=o;o++){var s=this.newDate(o,1,1,0,0),l=this.newDate(o,12,31,23,59);this.intersects(s,l,e,t)&&(a.list.push({key:o,value:k[r].year(o)}),o===n.getFullYear()&&(a.defaultIndex=u),u++)}return a}},{key:"calMonth",value:function(e,t,n,r){for(var a={list:[],defaultIndex:-1},o=0,i=0;12>o;o++){var u=this.newDate(n.getFullYear(),o,1,0,0),s=this.newDate(n.getFullYear(),o,y(n.getFullYear(),o+1),23,59);this.intersects(u,s,e,t)&&(a.list.push({key:o,value:k[r].month(o)}),o===n.getMonth()&&(a.defaultIndex=i),i++)}return a}},{key:"calDate",value:function(e,t,n,r){for(var a={list:[],defaultIndex:-1},o=y(n.getFullYear(),n.getMonth()+1),i=1,u=0;o>=i;i++){var s=this.newDate(n.getFullYear(),n.getMonth(),i,0,0),l=this.newDate(n.getFullYear(),n.getMonth(),i,23,59);this.intersects(s,l,e,t)&&(a.list.push({key:i,value:k[r].date(i)}),i===n.getDate()&&(a.defaultIndex=u),u++)}return a}},{key:"calAMPM",value:function(e,t,n,r){var a={list:[],defaultIndex:-1},o=0,i=this.newDate(n.getFullYear(),n.getMonth(),n.getDate(),0,0),u=this.newDate(n.getFullYear(),n.getMonth(),n.getDate(),11,59);return this.intersects(i,u,e,t)&&(a.list.push({key:"am",value:k[r].am}),n.getHours()<12&&(a.defaultIndex=o),o++),i=this.newDate(n.getFullYear(),n.getMonth(),n.getDate(),12,0),u=this.newDate(n.getFullYear(),n.getMonth(),n.getDate(),23,59),this.intersects(i,u,e,t)&&(a.list.push({key:"pm",value:k[r].pm}),n.getHours()>=12&&(a.defaultIndex=o)),a}},{key:"calHour",value:function(e,t,n,r,a,o){var i={list:[],defaultIndex:-1},u=void 0,s=void 0;this.props.use24hours?(u=0,s=23):(u=0,s=11);for(var l=u,c=0;s>=l;l++){var f=l;this.props.use24hours||"pm"!==r||(f+=12);var p=this.newDate(n.getFullYear(),n.getMonth(),n.getDate(),f,0),h=this.newDate(n.getFullYear(),n.getMonth(),n.getDate(),f,59);this.intersects(p,h,e,t)&&(i.list.push({key:f,value:k[a].hour(f,o)}),f===n.getHours()&&(i.defaultIndex=c),c++)}return i}},{key:"calMinute",value:function(e,t,n,r){for(var a={list:[],defaultIndex:-1},o=0,i=0;60>o;o++){var u=this.newDate(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),o);this.intersects(u,u,e,t)&&(a.list.push({key:o,value:k[r].minute(o)}),o===n.getMinutes()&&(a.defaultIndex=i),i++)}return a}},{key:"render",value:function(){var e=k[this.props.locale];return c["default"].createElement(h["default"],u({},this.props,{columns:this.state.columns,ref:"select",confirmButton:e.confirmButton,cancelButton:e.cancelButton,onSelect:this.onSelect,onDidSelect:this.onDidSelect,getStaticText:this.getStaticText,getTitle:this.getTitle,onOpen:this.onOpen,onCancel:this.onCancel}))}},{key:"date",get:function(){return this.state.outOfRange?Number.NaN:this.state.defaultDate}}]),t}(l.Component);w.propTypes={max:x,min:x,defaultDate:x,type:l.PropTypes.oneOf(["date","datetime","time","month"]),locale:M,use24hours:l.PropTypes.bool,title:l.PropTypes.oneOfType([l.PropTypes.string,l.PropTypes.node]),onSelect:l.PropTypes.func,onDidSelect:l.PropTypes.func},w.defaultProps={min:"01 Jan 1970 00:00",max:"19 Jan 2038 03:14",type:"date",locale:"en",use24hours:!1},t["default"]=w},function(t,n){t.exports=e},function(e,n){e.exports=t},function(e,t){e.exports=n},function(e,t,n){function r(e){return null===e||void 0===e}function a(e){return e&&"object"==typeof e&&"number"==typeof e.length?"function"!=typeof e.copy||"function"!=typeof e.slice?!1:!(e.length>0&&"number"!=typeof e[0]):!1}function o(e,t,n){var o,c;if(r(e)||r(t))return!1;if(e.prototype!==t.prototype)return!1;if(s(e))return s(t)?(e=i.call(e),t=i.call(t),l(e,t,n)):!1;if(a(e)){if(!a(t))return!1;if(e.length!==t.length)return!1;for(o=0;o<e.length;o++)if(e[o]!==t[o])return!1;return!0}try{var f=u(e),p=u(t)}catch(h){return!1}if(f.length!=p.length)return!1;for(f.sort(),p.sort(),o=f.length-1;o>=0;o--)if(f[o]!=p[o])return!1;for(o=f.length-1;o>=0;o--)if(c=f[o],!l(e[c],t[c],n))return!1;return typeof e==typeof t}var i=Array.prototype.slice,u=n(6),s=n(7),l=e.exports=function(e,t,n){return n||(n={}),e===t?!0:e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():!e||!t||"object"!=typeof e&&"object"!=typeof t?n.strict?e===t:e==t:o(e,t,n)}},function(e,t){function n(e){var t=[];for(var n in e)t.push(n);return t}t=e.exports="function"==typeof Object.keys?Object.keys:n,t.shim=n},function(e,t){function n(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function r(e){return e&&"object"==typeof e&&"number"==typeof e.length&&Object.prototype.hasOwnProperty.call(e,"callee")&&!Object.prototype.propertyIsEnumerable.call(e,"callee")||!1}var a="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();t=e.exports=a?n:r,t.supported=n,t.unsupported=r}])});